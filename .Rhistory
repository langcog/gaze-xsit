filter(participant_looking_char != "face")
# add condition and where gaze was directed
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char != "face") %>%
select(subid, condition, look) %>%
unique() %>%
left_join(all.exp, by = "subid")
View(all.exp)
d %>%
select(subid, shortname) %>%
unique()
tmpo <- d %>%
select(subid, shortname) %>%
unique()
View(tmpo)
trial_num_array <- c(c("fam", "fam", "fam", "fam"), seq(1,16))
trial_num_array
trial_nums <- d %>%
select(subid, shortname) %>%
unique() %>%
group_by(subid) %>%
cbind(trial_num_array)
View(trial_nums)
trial_nums
names(tmpo)
d %<>%
select(subid, shortname) %>%
unique() %>%
group_by(subid) %>%
cbind(trial_num_array) %>%
left_join(., d, by = c("subid", "shortname"))
View(d)
trial_num <- c(c("fam", "fam", "fam", "fam"), seq(1,16))
d$trial_num_array <- NULL
trial_num <- c(c("fam", "fam", "fam", "fam"), seq(1,16))
d %<>%
select(subid, shortname) %>%
unique() %>%
group_by(subid) %>%
cbind(trial_num) %>%
left_join(., d, by = c("subid", "shortname"))
View(d)
tmp <- d %>%
mutate(freq_correct = ifelse(target_object == participant_looking_char, TRUE, FALSE),
freq_gaze_follow = ifelse(look == participant_looking_char, TRUE, FALSE))
View(tmp)
tmp <- d %>%
mutate(correct = ifelse(target_object == participant_looking_char, TRUE, FALSE),
gaze_follow = ifelse(look == participant_looking_char, TRUE, FALSE))
d %<>% mutate(participant_looking_factor = factor(ifelse(x > 210 & x < 750 & y < 540, "left",
ifelse(x > 1170 & x < 1710 & y < 540, "right",
ifelse(x < 1230 & x > 690 & y > 540, "face", "away")))),
participant_looking_char = as.character(participant_looking_factor))
trial_num <- c(c("fam", "fam", "fam", "fam"), seq(1,16))
d %<>%
select(subid, shortname) %>%
unique() %>%
group_by(subid) %>%
cbind(trial_num) %>%
left_join(., d, by = c("subid", "shortname"))
d %<>%
mutate(correct = ifelse(target_object == participant_looking_char, TRUE, FALSE),
gaze_follow = ifelse(look == participant_looking_char, TRUE, FALSE))
d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
xtabs(~participant_looking_char + shortname + subid + target_object, data = .) %>%
as.data.frame() %>%
filter(participant_looking_char != "face")
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
xtabs(~participant_looking_char + shortname + subid + target_object, data = .) %>%
as.data.frame()
View(all.exp)
names(d)
rm(list = ls())
library(dplyr)
library(readr)
library(magrittr)
library(ggplot2)
library(tidyr)
library(knitr)
library(langcog)
library(lme4)
## output: d (mastersheet with times, trial, subject, condition, and gazes)
## input: processed data spreadsheet, subject info spreadsheet, trial info
#read in processed data
d <- read_csv("processed_data_adult/processed_adult.csv")
# join subject info
subinfo <- read_csv("info/subinfo_adult.csv")
d %<>%
mutate(subid = gsub(".txt", "", subid)) %>%
left_join(subinfo)
# join trial info
trialinfo <- read_csv("info/trialinfo.csv")
d %<>% left_join(trialinfo, by = "stimulus")
# filter out unusable participants
d %<>% filter(keep == "y")
d %>%
select(subid, condition) %>%
unique() %>%
group_by(condition) %>%
summarise(n()) %>%
kable()
d_descrip <- d %>%
group_by(subid) %>%
select(subid, shortname, trial.type) %>%
unique() %>%
group_by(subid, trial.type) %>%
summarise(count = n())
d_descrip %>% kable()
d %<>% mutate(participant_looking_factor = factor(ifelse(x > 210 & x < 750 & y < 540, "left",
ifelse(x > 1170 & x < 1710 & y < 540, "right",
ifelse(x < 1230 & x > 690 & y > 540, "face", "away")))),
participant_looking_char = as.character(participant_looking_factor))
# add trial numbers
trial_num <- c(c("fam", "fam", "fam", "fam"), seq(1,16))
d %<>%
select(subid, shortname) %>%
unique() %>%
group_by(subid) %>%
cbind(trial_num) %>%
left_join(., d, by = c("subid", "shortname"))
d %<>%
mutate(correct = ifelse(target_object == participant_looking_char, TRUE, FALSE),
gaze_follow = ifelse(look == participant_looking_char, TRUE, FALSE))
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
xtabs(~participant_looking_char + shortname + subid + target_object + trial_num, data = .) %>%
as.data.frame()
View(all.exp)
d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(trial_num, condition, participant_looking_char) %>%
summarise(count = n())
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n())
View(all.exp)
?complete
df <- data_frame(
group = c(1:2, 1),
item_id = c(1:2, 2),
item_name = c("a", "b", "b"),
value1 = 1:3,
value2 = 4:6
)
df
df %>% complete(group, c(item_id, item_name))
d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
complete(subid, c(trial_num, condition, participant_looking_char))
?exand
?exapnd
?expand
?complete
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
complete(subid, c(trial_num, condition))
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
complete(subid, c(trial_num))
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n())
tmp <- filter(all.exp, subid == pn11)
tmp <- filter(all.exp, subid == "pn11")
tmp
View(tmp)
tmp %>% complete(c(subid:participant_looking_char), count)
df %>% complete(group, c(item_id, item_name))
df %>% complete(group, c(item_id, item_name), fill = list(value1 = 0))
str(all.exp)
rm(list = ls())
library(dplyr)
library(readr)
library(magrittr)
library(ggplot2)
library(tidyr)
library(knitr)
library(langcog)
library(lme4)
## output: d (mastersheet with times, trial, subject, condition, and gazes)
## input: processed data spreadsheet, subject info spreadsheet, trial info
#read in processed data
d <- read_csv("processed_data_adult/processed_adult.csv")
# join subject info
subinfo <- read_csv("info/subinfo_adult.csv")
d %<>%
mutate(subid = gsub(".txt", "", subid)) %>%
left_join(subinfo)
# join trial info
trialinfo <- read_csv("info/trialinfo.csv")
d %<>% left_join(trialinfo, by = "stimulus")
# filter out unusable participants
d %<>% filter(keep == "y")
glmpse(d)
glimpse(d)
?read_csv
subinfo <- read_csv("info/subinfo_adult.csv")
View(subinfo)
View(d)
d %<>%
mutate(subid = gsub(".txt", "", subid)) %>%
left_join(subinfo)
trialinfo <- read_csv("info/trialinfo.csv")
d %<>% left_join(trialinfo, by = "stimulus"
)
d %<>% filter(keep == "y")
d %>%
select(subid, condition) %>%
unique() %>%
group_by(condition) %>%
summarise(n()) %>%
kable()
d_descrip <- d %>%
group_by(subid) %>%
select(subid, shortname, trial.type) %>%
unique() %>%
group_by(subid, trial.type) %>%
summarise(count = n())
d_descrip %>% kable()
d %>%
select(subid, condition) %>%
unique() %>%
group_by(condition) %>%
summarise(n()) %>%
kable()
d_descrip <- d %>%
group_by(subid) %>%
select(subid, shortname, trial.type) %>%
unique() %>%
group_by(subid, trial.type) %>%
summarise(count = n())
rm(list = ls())
library(dplyr)
library(readr)
library(magrittr)
library(ggplot2)
library(tidyr)
library(knitr)
library(langcog)
library(lme4)
## output: d (mastersheet with times, trial, subject, condition, and gazes)
## input: processed data spreadsheet, subject info spreadsheet, trial info
#read in processed data
d <- read_csv("processed_data_adult/processed_adult.csv")
# join subject info
subinfo <- read_csv("info/subinfo_adult.csv")
d %<>%
mutate(subid = gsub(".txt", "", subid)) %>%
left_join(subinfo)
# join trial info
trialinfo <- read_csv("info/trialinfo.csv")
d %<>% left_join(trialinfo, by = "stimulus")
# filter out unusable participants
d %<>% filter(keep == "y")
str(d)
d %>%
select(subid, condition) %>%
unique() %>%
group_by(condition) %>%
summarise(n()) %>%
kable()
d_descrip <- d %>%
group_by(subid) %>%
select(subid, shortname, trial.type) %>%
unique() %>%
group_by(subid, trial.type) %>%
summarise(count = n())
d_descrip %>% kable()
d %<>% mutate(participant_looking_factor = factor(ifelse(x > 210 & x < 750 & y < 540, "left",
ifelse(x > 1170 & x < 1710 & y < 540, "right",
ifelse(x < 1230 & x > 690 & y > 540, "face", "away")))),
participant_looking_char = as.character(participant_looking_factor))
trial_num <- c(c("fam", "fam", "fam", "fam"), seq(1,16))
d %<>%
select(subid, shortname) %>%
unique() %>%
group_by(subid) %>%
cbind(trial_num) %>%
left_join(., d, by = c("subid", "shortname"))
str(d)
d %<>%
mutate(correct = ifelse(target_object == participant_looking_char, TRUE, FALSE),
gaze_follow = ifelse(look == participant_looking_char, TRUE, FALSE))
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n())
str(all.exp)
tmp <- filter(all.exp, subid == "pn11")
str(tmp)
View(all.exp)
tmp %>% ungroup() %>% complete(c(subid:participant_looking_char), count)
tmp2 <- tmp %>% ungroup() %>% complete(c(subid:participant_looking_char), count)
View(tmp2)
?complete
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n())
View(all.exp)
tmp <- filter(all.exp, subid == "pn11")
tmp2 <- tmp %>% ungroup() %>% complete(subid, trial_num, condition, participant_looking)
tmp2 <- tmp %>% ungroup() %>% complete(subid, trial_num, condition, participant_looking_char)
View(tmp2)
View(tmp)
tmp2 <- tmp %>% ungroup() %>% complete(subid, trial_num, condition, participant_looking_char,
fill = list(count = 0))
View(tmp2)
tmp2 <- all.exp %>% ungroup() %>% complete(subid, trial_num, condition, participant_looking_char,
fill = list(count = 0))
View(tmp2)
tmp2 <- all.exp %>%
ungroup() %>%
group_by(condition) %>%
complete(subid, trial_num, condition, participant_looking_char,
fill = list(count = 0))
tmp2 <- all.exp %>%
ungroup() %>%
complete(subid, trial_num, condition, participant_looking_char,
fill = list(count = 0))
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
xtabs(~participant_looking_char + shortname + subid + target_object + trial_num, data = .) %>%
as.data.frame() %>%
filter(participant_looking_char != "face")
View(all.exp)
View(all.exp)
d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n())
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n())
View(all.exp)
tmp2 <- all.exp %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0))
View(tmp2)
?arrange
tmp2 <- all.exp %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid) %>%
arrange(as.numeric(trial_num))
View(tmp2)
tmp2 <- all.exp %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid)
View(tmp2)
tmp2 <- all.exp %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid, as.numeric(trial_num))
View(tmp2)
10 * 16 * 2
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid)
View(all.exp)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, gaze, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, condition, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, gaze, participant_looking_char,
fill = list(count = 0, gaze = condition)) %>%
arrange(subid)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, gaze, participant_looking_char,
fill = list(count = 0, condition = condition)) %>%
arrange(subid)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0, condition = condition)) %>%
arrange(subid)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid) %>%
left_join(., select(d, subid, condition), by = c("subid", "condition"))
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid) %>%
left_join(., unique(select(d, subid, condition)), by = c("subid", "condition"))
View(all.exp)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid)
View(all.exp)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid) %>%
select(-condition)
View(all.exp)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid) %>%
select(-condition)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char != "face") %>%
select(subid, condition, look) %>%
unique() %>%
left_join(all.exp, by = "subid")
View(all.exp)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char != "face") %>%
select(subid, condition, look) %>%
unique() %>%
left_join(all.exp, by = c("subid", "look")
)
# create exposure trial data frame
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid) %>%
select(-condition)
# add condition and where gaze was directed
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char != "face") %>%
select(subid, condition, look) %>%
unique() %>%
left_join(all.exp, by = c("subid", "look"))
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char %in% c("left", "right")) %>%
group_by(subid, trial_num, condition, participant_looking_char) %>%
summarise(count = n()) %>%
ungroup() %>%
complete(subid, trial_num, participant_looking_char,
fill = list(count = 0)) %>%
arrange(subid) %>%
select(-condition)
all.exp <- d %>%
filter(trial.type == "exposure" & participant_looking_char != "face") %>%
select(subid, condition, trial_num, look) %>%
unique() %>%
left_join(all.exp, by = c("subid", "trial_num"))
View(all.exp)
?complete()
