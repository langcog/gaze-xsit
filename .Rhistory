getwd()
rm(list = ls())
library(dplyr)
library(readr)
library(magrittr)
source("et_helper.R")
raw.data.path <- "data_adult/"
processed.data.path <- "../processed_data/"
## LOOP TO READ IN FILES
all.data <- data.frame()
files <- dir(raw.data.path,pattern="*.txt")
for (file.name in files) {
print(file.name)
## these are the two functions that are most meaningful
d <- read.smi.idf(paste(raw.data.path,file.name,sep=""), header.rows=32)
d <- preprocess.data(d)
d$subid <- file.name
## now here's where data get bound together
all.data <- bind_rows(all.data, d)
}
## WRITE DATA OUT TO CSV FOR EASY ACCESS
write_csv(all.data, paste0(processed.data.path, "processed_adult_data.csv"))
getwd()
setwd("Documents/Projects/gaze-xsit")
rm(list = ls())
library(dplyr)
library(readr)
library(magrittr)
source("et_helper.R")
raw.data.path <- "data_adult/"
processed.data.path <- "../processed_data/"
## LOOP TO READ IN FILES
all.data <- data.frame()
files <- dir(raw.data.path,pattern="*.txt")
for (file.name in files) {
print(file.name)
## these are the two functions that are most meaningful
d <- read.smi.idf(paste(raw.data.path,file.name,sep=""), header.rows=32)
d <- preprocess.data(d)
d$subid <- file.name
## now here's where data get bound together
all.data <- bind_rows(all.data, d)
}
## WRITE DATA OUT TO CSV FOR EASY ACCESS
write_csv(all.data, paste0(processed.data.path, "processed_adult_data.csv"))
setwd("raw_data")
setwd("data/raw_data")
rm(list = ls())
library(dplyr)
library(readr)
library(magrittr)
source("et_helper.R")
raw.data.path <- "data_adult/"
processed.data.path <- "../processed_data/"
## LOOP TO READ IN FILES
all.data <- data.frame()
files <- dir(raw.data.path,pattern="*.txt")
for (file.name in files) {
print(file.name)
## these are the two functions that are most meaningful
d <- read.smi.idf(paste(raw.data.path,file.name,sep=""), header.rows=32)
d <- preprocess.data(d)
d$subid <- file.name
## now here's where data get bound together
all.data <- bind_rows(all.data, d)
}
## WRITE DATA OUT TO CSV FOR EASY ACCESS
write_csv(all.data, paste0(processed.data.path, "processed_adult_data.csv"))
knitr::opts_chunk$set(echo=T, warning=F, cache=T, message=F, sanitize = T)
rm(list = ls())
library(dplyr)
library(readr)
library(magrittr)
library(ggplot2)
library(tidyr)
library(knitr)
library(langcog)
library(lme4)
library(directlabels)
theme_set(theme_bw())
## output: d (mastersheet with times, trial, subject, condition, and gazes)
## input: processed data spreadsheet, subject info spreadsheet, trial info
#read in processed data
d <- read_csv("../data/processed_data/processed_adult_data.csv")
# join subject info
subinfo <- read_csv("../info/subinfo_adult_n.csv")
d %<>%
mutate(subid = gsub(".txt", "", subid)) %>%
left_join(subinfo)
# join trial info
trialinfo <- read_csv("../info/trialinfo.csv")
d %<>% left_join(trialinfo, by = "stimulus")
# filter out unusable participants
d %<>% filter(keep == "y")
setwd("../")
getwd()
setwd("../")
## output: d (mastersheet with times, trial, subject, condition, and gazes)
## input: processed data spreadsheet, subject info spreadsheet, trial info
#read in processed data
d <- read_csv("../data/processed_data/processed_adult_data.csv")
# join subject info
subinfo <- read_csv("../info/subinfo_adult_n.csv")
d %<>%
mutate(subid = gsub(".txt", "", subid)) %>%
left_join(subinfo)
# join trial info
trialinfo <- read_csv("../info/trialinfo.csv")
d %<>% left_join(trialinfo, by = "stimulus")
# filter out unusable participants
d %<>% filter(keep == "y")
